<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Proxmox full gpu passthrough to VM configuration for hardware acceleration."><meta name=author content="Stas Yakobov"><link href=https://3os.org/infrastructure/proxmox/gpu-passthrough/gpu-passthrough-to-vm/ rel=canonical><link href=../../windows-vm-configuration/ rel=prev><link href=../igpu-passthrough-to-vm/ rel=next><link rel=icon href=../../../../assets/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.11"><title>GPU Passthrough to VM - 3os</title><link rel=stylesheet href=../../../../assets/stylesheets/main.7e359304.min.css><link rel=stylesheet href=../../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Rubik:300,300i,400,400i,700,700i%7CRubik+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Rubik";--md-code-font:"Rubik Mono"}</style><link rel=stylesheet href=../../../../css/timeago.css><link rel=stylesheet href=../../../../css/extra.css><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><meta property=og:type content=website><meta property=og:title content="GPU Passthrough to VM - 3os"><meta property=og:description content="Proxmox full gpu passthrough to VM configuration for hardware acceleration."><meta property=og:image content=https://3os.org/assets/images/social/infrastructure/proxmox/gpu-passthrough/gpu-passthrough-to-vm.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta content=https://3os.org/infrastructure/proxmox/gpu-passthrough/gpu-passthrough-to-vm/ property=og:url><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="GPU Passthrough to VM - 3os"><meta name=twitter:description content="Proxmox full gpu passthrough to VM configuration for hardware acceleration."><meta name=twitter:image content=https://3os.org/assets/images/social/infrastructure/proxmox/gpu-passthrough/gpu-passthrough-to-vm.png></head> <body dir=ltr data-md-color-scheme=3os data-md-color-primary=teal data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#proxmox-gpu-passthrough-to-vm class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <div class=announcement> <div class=message> <div class=message-item> <span class=twemoji> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0 0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4-3.5 9.4-8.7 17.7-14.2 24.7-4.8 6.2-9.7 11-13.3 14.3-1.8 1.6-3.3 2.9-4.3 3.7-.5.4-.9.7-1.1.8l-.2.2C1 327.2-1.4 334.4.8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5 9.2-3.5 17.8-7.4 25.3-11.4C134.1 343.3 169.8 352 208 352zm240-176c0 112.3-99.1 196.9-216.5 207 24.3 74.4 104.9 129 200.5 129 38.2 0 73.9-8.7 104.7-23.9 7.5 4 16 7.9 25.2 11.4 18.3 6.9 40.3 12.5 62.1 12.5 6.9 0 13.1-4.5 15.2-11.1 2.1-6.6-.2-13.8-5.8-17.9l-.2-.2c-.2-.2-.6-.4-1.1-.8-1-.8-2.5-2-4.3-3.7-3.6-3.3-8.5-8.1-13.3-14.3-5.5-7-10.7-15.4-14.2-24.7 24.9-29 39.6-64.7 39.6-103.4 0-92.8-84.9-168.9-192.6-175.5.4 5.1.6 10.3.6 15.5z"/></svg> </span> </div> <div class=message-item> Get 50% off Torguard VPN With Coupon: <a href="https://torguard.net/aff.php?aff=7404" target=_blank> <strong>all50torgourd</strong> </a> </div> </div> <button id=close onclick=hideClicked() &quot;>close</button> </div> <script>
  // cname - cookie name, cvalue - cookie value, exdays - expiration days
  const cname = 'hide-announcement';
  const cvalue = 'true';
  const exdays = 1;

  // hide announcement on click
  function hideClicked() {
    const mdBanner = document.querySelector('.md-banner');
    mdBanner.setAttribute('style', 'display: none');
    // call function to set cookie
    setCookie(cname, cvalue, exdays);
  }

  // show announcement if cookie is not set
  function showAnnouncement() {
    const mdBanner = document.querySelector('.md-banner');
    mdBanner.setAttribute('style', 'display: block');
  }

  // check if cookie is set and if not show announcement
  if (document.cookie.indexOf(cname + '=true') === -1) {
    showAnnouncement();
  }

  // set cookie with 24 hours expiration
  function setCookie(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);
    var expires = 'expires=' + d.toUTCString();
    document.cookie = cname + '=' + cvalue + ';' + expires + ';path=/';
  }

  // function to get cookie
  function getCookie(cname) {
    var name = cname + '=';
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for (var i = 0; i < ca.length; i++) {
      var c = ca[i];
      while (c.charAt(0) == ' ') {
        c = c.substring(1);
      }
      if (c.indexOf(name) == 0) {
        return c.substring(name.length, c.length);
      }
    }
    return '';
  }
</script> <style>
  .md-banner {
  position: fixed;
  bottom: 0;
  width: 100%;
  z-index: 100;
  }
  /* footer fix for banner */

  .md-footer-meta__inner.md-grid {
    padding-bottom: 2.5em;
  }
  /* .md-copyright {
    margin: 0 0.6rem;
  } */
/*  */

  .announcement {
    display: flex;
    justify-content: space-between;
  }
  .message {
    display: flex;
    flex-direction: row;
  }
  .message-item {
    margin: 0.2em;
  }

  .md-banner {
    display: none;
    overflow: auto;
    color: var(--md-footer-fg-color);
    background-color: #202020;
  }
  @media print {
    .md-banner {
      display: none;
    }
  }
  .md-banner--warning {
    color: var(--md-default-fg-color);
    background: var(--md-typeset-mark-color);
  }
  .md-banner__inner {
    margin: 0.2rem auto;
    padding: 0 .8rem;
    font-size: 0.7rem;
  }

  /* close button */
  #close {
    overflow: hidden;
    position: relative;
    border: none;
    padding: 0;
    width: 2em;
    height: 2em;
    border-radius: 50%;
    background: transparent;
    color: var(--md-primary-bg-color);
    font: inherit;
    text-indent: 100%;
    cursor: pointer;
  }
  #close:focus {
    outline: solid 0 transparent;
    box-shadow: 0 0 0 2px var(--md-primary-fg-color--light);
  }
  #close:hover {
    background: #36464e
  }
  #close:before,
  #close:after {
    position: absolute;
    top: 15%;
    left: calc(50% - 0.0625em);
    width: 0.125em;
    height: 70%;
    border-radius: 0.125em;
    transform: rotate(45deg);
    background: currentcolor;
    content: '';
  }
  #close:after {
    transform: rotate(-45deg);
  }
</style> </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../.. title=3os class="md-header__button md-logo" aria-label=3os data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 2.05c5.05.5 9 4.77 9 9.95 0 1.45-.32 2.83-.88 4.07l-2.62-1.53c.32-.79.5-1.64.5-2.54 0-3.53-2.61-6.43-6-6.92V2.05M12 19c2.21 0 4.17-1 5.45-2.62l2.6 1.53A9.97 9.97 0 0 1 12 22C6.47 22 2 17.5 2 12a9.99 9.99 0 0 1 9-9.95v3.03C7.61 5.57 5 8.47 5 12a7 7 0 0 0 7 7m0-13a6 6 0 0 1 6 6c0 2.97-2.16 5.44-5 5.92v-3.09c1.17-.41 2-1.52 2-2.83a3 3 0 0 0-3-3l-.55.05-1.54-2.67C10.56 6.13 11.26 6 12 6m-6 6c0-1.86.85-3.5 2.18-4.62l1.54 2.67C9.27 10.57 9 11.26 9 12c0 1.31.83 2.42 2 2.83v3.09c-2.84-.48-5-2.95-5-5.92Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> 3os </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> GPU Passthrough to VM </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=3os data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=teal data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fire1ce/3os.org title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fire1ce/3os.org </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../automation/ddns-cloudflare-bash/ class=md-tabs__link> Automation </a> </li> <li class=md-tabs__item> <a href=../../../../devops/docker/common-docker-commands/ class=md-tabs__link> DevOps </a> </li> <li class=md-tabs__item> <a href=../../../../development/node-npm/npm/ class=md-tabs__link> Development </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../openwrt/disable-ipv6/ class=md-tabs__link> Infrastructure </a> </li> <li class=md-tabs__item> <a href=../../../../linux/general-snippets/ class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../../mac-os/applications-tweaks/ class=md-tabs__link> macOS </a> </li> <li class=md-tabs__item> <a href=../../../../windows/ssh-server/ class=md-tabs__link> Windows </a> </li> <li class=md-tabs__item> <a href=../../../../raspberry-pi/snippets/ class=md-tabs__link> Raspberry Pi </a> </li> <li class=md-tabs__item> <a href=../../../../android/adb-cheat-sheet/ class=md-tabs__link> Android </a> </li> <li class=md-tabs__item> <a href=../../../../penetration-testing/cheatsheets/cli-commands-collation/ class=md-tabs__link> Penetration Testing </a> </li> <li class=md-tabs__item> <a href=../../../../homelab/devices/synology-nas/ class=md-tabs__link> HomeLab </a> </li> <li class=md-tabs__item> <a href=../../../../utilities/htpasswd-generator/ class=md-tabs__link> Utilities </a> </li> <li class=md-tabs__item> <a href=../../../../blog/ class=md-tabs__link> What's New </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title=3os class="md-nav__button md-logo" aria-label=3os data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 2.05c5.05.5 9 4.77 9 9.95 0 1.45-.32 2.83-.88 4.07l-2.62-1.53c.32-.79.5-1.64.5-2.54 0-3.53-2.61-6.43-6-6.92V2.05M12 19c2.21 0 4.17-1 5.45-2.62l2.6 1.53A9.97 9.97 0 0 1 12 22C6.47 22 2 17.5 2 12a9.99 9.99 0 0 1 9-9.95v3.03C7.61 5.57 5 8.47 5 12a7 7 0 0 0 7 7m0-13a6 6 0 0 1 6 6c0 2.97-2.16 5.44-5 5.92v-3.09c1.17-.41 2-1.52 2-2.83a3 3 0 0 0-3-3l-.55.05-1.54-2.67C10.56 6.13 11.26 6 12 6m-6 6c0-1.86.85-3.5 2.18-4.62l1.54 2.67C9.27 10.57 9 11.26 9 12c0 1.31.83 2.42 2 2.83v3.09c-2.84-.48-5-2.95-5-5.92Z"/></svg> </a> 3os </label> <div class=md-nav__source> <a href=https://github.com/fire1ce/3os.org title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fire1ce/3os.org </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Automation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../automation/ddns-cloudflare-bash/ class=md-nav__link> <span class=md-ellipsis> DDNS Cloudflare Bash </span> </a> </li> <li class=md-nav__item> <a href=../../../../automation/ddns-cloudflare-powershell/ class=md-nav__link> <span class=md-ellipsis> DDNS Cloudflare PowerShell </span> </a> </li> <li class=md-nav__item> <a href=../../../../automation/gmail-mark-archived-mail-as-read/ class=md-nav__link> <span class=md-ellipsis> Gmail Mark Archived as Read </span> </a> </li> <li class=md-nav__item> <a href=../../../../automation/pihole-cloudflare-dns-sync/ class=md-nav__link> <span class=md-ellipsis> Pi-hole Cloudflare DNS Sync </span> </a> </li> <li class=md-nav__item> <a href=../../../../automation/syncthings/ class=md-nav__link> <span class=md-ellipsis> Syncthing </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_6> <label class=md-nav__link for=__nav_1_6 id=__nav_1_6_label tabindex=0> <span class=md-ellipsis> Guides </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_6_label aria-expanded=false> <label class=md-nav__title for=__nav_1_6> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../automation/guides/better-terminal-experience/ class=md-nav__link> <span class=md-ellipsis> Better Terminal Experience </span> </a> </li> <li class=md-nav__item> <a href=../../../../automation/guides/pihole-doh/ class=md-nav__link> <span class=md-ellipsis> Pi-hole with DOH on Docker </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> DevOps </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> DevOps </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../devops/docker/common-docker-commands/ class=md-nav__link> <span class=md-ellipsis> Common Docker Commands </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/docker/docker-containers/ class=md-nav__link> <span class=md-ellipsis> Containers Cheat Sheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/docker/docker-images/ class=md-nav__link> <span class=md-ellipsis> Images Cheat Sheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/docker/docker-install/ class=md-nav__link> <span class=md-ellipsis> Docker Installation </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/docker/docker-networks/ class=md-nav__link> <span class=md-ellipsis> Networks & Links Cheat Sheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/docker/docker-security/ class=md-nav__link> <span class=md-ellipsis> Security & Best Practices </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/docker/watchtower/ class=md-nav__link> <span class=md-ellipsis> Watchtower </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> Git </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../devops/git/delete-commit-history/ class=md-nav__link> <span class=md-ellipsis> Removing Sensitive Data </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/git/git-cli-cheat-sheet/ class=md-nav__link> <span class=md-ellipsis> Git Cli Cheat Sheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/git/git-submodules/ class=md-nav__link> <span class=md-ellipsis> Submodules Cheat Sheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../devops/git/github-cli/ class=md-nav__link> <span class=md-ellipsis> GitHub Cli </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> Node npm </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> Node npm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../development/node-npm/npm/ class=md-nav__link> <span class=md-ellipsis> Npm Command-line Utility </span> </a> </li> <li class=md-nav__item> <a href=../../../../development/node-npm/pm2/ class=md-nav__link> <span class=md-ellipsis> PM2 - Node.js Process Manager </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <label class=md-nav__link for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../development/python/pip/ class=md-nav__link> <span class=md-ellipsis> Pip Package Manager </span> </a> </li> <li class=md-nav__item> <a href=../../../../development/python/supervisor/ class=md-nav__link> <span class=md-ellipsis> Supervisor Process Manager </span> </a> </li> <li class=md-nav__item> <a href=../../../../development/python/virtualenv/ class=md-nav__link> <span class=md-ellipsis> Virtual Environment </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <label class=md-nav__link for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class=md-ellipsis> Ruby </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Ruby </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../development/ruby/ruby/ class=md-nav__link> <span class=md-ellipsis> Ruby Gem Package Manager </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Infrastructure </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Infrastructure </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex> <span class=md-ellipsis> Openwrt </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Openwrt </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../openwrt/disable-ipv6/ class=md-nav__link> <span class=md-ellipsis> Disable IPV6 </span> </a> </li> <li class=md-nav__item> <a href=../../../openwrt/install-oh-my-zsh/ class=md-nav__link> <span class=md-ellipsis> oh-my-zsh Install </span> </a> </li> <li class=md-nav__item> <a href=../../../openwrt/snippets/ class=md-nav__link> <span class=md-ellipsis> Snippets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2 checked> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex> <span class=md-ellipsis> Proxmox </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Proxmox </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cloud-image-template/ class=md-nav__link> <span class=md-ellipsis> Cloud Image Template </span> </a> </li> <li class=md-nav__item> <a href=../../lets-encrypt-cloudflare/ class=md-nav__link> <span class=md-ellipsis> Let's Encrypt with Cloudflare </span> </a> </li> <li class=md-nav__item> <a href=../../vm-disk-expander/ class=md-nav__link> <span class=md-ellipsis> VM Disk Expander </span> </a> </li> <li class=md-nav__item> <a href=../../windows-vm-configuration/ class=md-nav__link> <span class=md-ellipsis> Windows VM Configuration </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_5 checked> <label class=md-nav__link for=__nav_4_2_5 id=__nav_4_2_5_label tabindex=0> <span class=md-ellipsis> GPU Passthrough </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_5_label aria-expanded=true> <label class=md-nav__title for=__nav_4_2_5> <span class="md-nav__icon md-icon"></span> GPU Passthrough </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> GPU Passthrough to VM </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> GPU Passthrough to VM </span> </a> <nav class="md-nav md-nav--secondary" aria-label="On This Page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On This Page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#proxmox-configuration-for-gpu-passthrough class=md-nav__link> <span class=md-ellipsis> Proxmox Configuration for GPU Passthrough </span> </a> </li> <li class=md-nav__item> <a href=#windows-virtual-machine-gpu-passthrough-configuration class=md-nav__link> <span class=md-ellipsis> Windows Virtual Machine GPU Passthrough Configuration </span> </a> </li> <li class=md-nav__item> <a href=#linux-virtual-machine-gpu-passthrough-configuration class=md-nav__link> <span class=md-ellipsis> Linux Virtual Machine GPU Passthrough Configuration </span> </a> </li> <li class=md-nav__item> <a href=#debug class=md-nav__link> <span class=md-ellipsis> Debug </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../igpu-passthrough-to-vm/ class=md-nav__link> <span class=md-ellipsis> iGPU Passthrough to VM </span> </a> </li> <li class=md-nav__item> <a href=../igpu-split-passthrough/ class=md-nav__link> <span class=md-ellipsis> iGPU Split Passthrough </span> </a> </li> <li class=md-nav__item> <a href=../vgpu-split-passthrough/ class=md-nav__link> <span class=md-ellipsis> vGPU Split Passthrough </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_6> <label class=md-nav__link for=__nav_4_2_6 id=__nav_4_2_6_label tabindex=0> <span class=md-ellipsis> Network </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2_6> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../network/disable-ipv6/ class=md-nav__link> <span class=md-ellipsis> Disable IPv6 on Proxmox </span> </a> </li> <li class=md-nav__item> <a href=../../network/proxmox-networking/ class=md-nav__link> <span class=md-ellipsis> Proxmox Networking </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../pvekclean/ class=md-nav__link> <span class=md-ellipsis> PVE Kernel Cleaner </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex> <span class=md-ellipsis> Synology </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Synology </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../synology/Install-oh-my-zsh/ class=md-nav__link> <span class=md-ellipsis> oh-my-zsh on Synology NAS </span> </a> </li> <li class=md-nav__item> <a href=../../../synology/Installing-vm-tools-on-virtual-machine/ class=md-nav__link> <span class=md-ellipsis> Install VM Tools on Virtual Machine </span> </a> </li> <li class=md-nav__item> <a href=../../../synology/auto-dsm-config-backup/ class=md-nav__link> <span class=md-ellipsis> Auto DSM Config Backup </span> </a> </li> <li class=md-nav__item> <a href=../../../synology/disable-dms-listening-on-80-443-ports/ class=md-nav__link> <span class=md-ellipsis> Free 80,443 Ports </span> </a> </li> <li class=md-nav__item> <a href=../../../synology/enable-ssh-root-login/ class=md-nav__link> <span class=md-ellipsis> Enable SSH Root Login </span> </a> </li> <li class=md-nav__item> <a href=../../../synology/ssh-with-rsa-key/ class=md-nav__link> <span class=md-ellipsis> SSH With RSA Keys </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex> <span class=md-ellipsis> Ubiquiti </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Ubiquiti </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ubiquiti/edge-router/ class=md-nav__link> <span class=md-ellipsis> EdgeRouter </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_2> <label class=md-nav__link for=__nav_4_4_2 id=__nav_4_4_2_label tabindex=0> <span class=md-ellipsis> UDM - UniFi Dream Machine </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_2> <span class="md-nav__icon md-icon"></span> UDM - UniFi Dream Machine </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ubiquiti/udm-dream-machine/cli-commands/ class=md-nav__link> <span class=md-ellipsis> CLI Commands </span> </a> </li> <li class=md-nav__item> <a href=../../../ubiquiti/udm-dream-machine/failover-telegram-notifications/ class=md-nav__link> <span class=md-ellipsis> Failover Telegram Notifications </span> </a> </li> <li class=md-nav__item> <a href=../../../ubiquiti/udm-dream-machine/persistent-boot-script/ class=md-nav__link> <span class=md-ellipsis> Persistent Boot Script </span> </a> </li> <li class=md-nav__item> <a href=../../../ubiquiti/udm-dream-machine/persistent-ssh-keys/ class=md-nav__link> <span class=md-ellipsis> Persistent SSH Keys </span> </a> </li> <li class=md-nav__item> <a href=../../../ubiquiti/udm-dream-machine/udm-better-fan-speeds/ class=md-nav__link> <span class=md-ellipsis> Better Fan Speeds </span> </a> </li> <li class=md-nav__item> <a href=../../../ubiquiti/udm-dream-machine/udm-cloudflare-ddns/ class=md-nav__link> <span class=md-ellipsis> UDM Cloudflare DDNS </span> </a> </li> <li class=md-nav__item> <a href=../../../ubiquiti/udm-dream-machine/wireguard-vpn/ class=md-nav__link> <span class=md-ellipsis> Wireguard VPN </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex> <span class=md-ellipsis> Vmware </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Vmware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../vmware/vmware-fusion/ class=md-nav__link> <span class=md-ellipsis> VMware Fusion </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../linux/general-snippets/ class=md-nav__link> <span class=md-ellipsis> General Snippets </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/files-handling/ class=md-nav__link> <span class=md-ellipsis> Files Handling </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/locales-time-zone/ class=md-nav__link> <span class=md-ellipsis> Locales & Timezone </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/lvm-partitions/ class=md-nav__link> <span class=md-ellipsis> LVM Partitions </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/memory-swap/ class=md-nav__link> <span class=md-ellipsis> Memory & Swap </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/services-and-daemons/ class=md-nav__link> <span class=md-ellipsis> Services & Daemons </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/smb-mount-autofs/ class=md-nav__link> <span class=md-ellipsis> SMB Mount With autofs </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/ssh-hardening-with-rsa-keys/ class=md-nav__link> <span class=md-ellipsis> SSH Hardening with SSH Keys </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <label class=md-nav__link for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class=md-ellipsis> Network </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../linux/Network/identify-nics/ class=md-nav__link> <span class=md-ellipsis> Identify Network Interfaces </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <label class=md-nav__link for=__nav_5_10 id=__nav_5_10_label tabindex=0> <span class=md-ellipsis> Ubuntu & Debian </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> Ubuntu & Debian </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../linux/ubuntu-debian/disable-ipv6/ class=md-nav__link> <span class=md-ellipsis> Disable IPv6 via Grub </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/ubuntu-debian/free-port-53/ class=md-nav__link> <span class=md-ellipsis> Free Port 53 on Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/ubuntu-debian/remove-snap-store/ class=md-nav__link> <span class=md-ellipsis> Remove Snap Store </span> </a> </li> <li class=md-nav__item> <a href=../../../../linux/ubuntu-debian/unattended-upgrades/ class=md-nav__link> <span class=md-ellipsis> Unattended Upgrades </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> macOS </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> macOS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../mac-os/applications-tweaks/ class=md-nav__link> <span class=md-ellipsis> Applications Tweaks </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac-os/enable-root-user/ class=md-nav__link> <span class=md-ellipsis> Enable Root User </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac-os/import-ssh-keys-keychain/ class=md-nav__link> <span class=md-ellipsis> SSH Passphrase to Keychain </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac-os/terminal-snippets/ class=md-nav__link> <span class=md-ellipsis> Terminal Snippets </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac-os/touch-id-for-sudo/ class=md-nav__link> <span class=md-ellipsis> TouchID for sudo </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac-os/ui-tweaks/ class=md-nav__link> <span class=md-ellipsis> UI Tweaks </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_7> <label class=md-nav__link for=__nav_6_7 id=__nav_6_7_label tabindex=0> <span class=md-ellipsis> Homebrew </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_7_label aria-expanded=false> <label class=md-nav__title for=__nav_6_7> <span class="md-nav__icon md-icon"></span> Homebrew </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../mac-os/homebrew/brewup/ class=md-nav__link> <span class=md-ellipsis> BrewUp </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac-os/homebrew/homebrew-snippets/ class=md-nav__link> <span class=md-ellipsis> Brew Snippets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_8> <label class=md-nav__link for=__nav_6_8 id=__nav_6_8_label tabindex=0> <span class=md-ellipsis> Python </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_8_label aria-expanded=false> <label class=md-nav__title for=__nav_6_8> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../mac-os/python/pyenv-virtualenv/ class=md-nav__link> <span class=md-ellipsis> Pyenv-virtualenv Multi Version </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Windows </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/ssh-server/ class=md-nav__link> <span class=md-ellipsis> Windows SSH Server </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/useful-software/ class=md-nav__link> <span class=md-ellipsis> Useful Software </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/windows-servers/ class=md-nav__link> <span class=md-ellipsis> Windows Servers </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/windows-ssh-agent-with-keys/ class=md-nav__link> <span class=md-ellipsis> Windows SSH with ed25519 Keys </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/windows-tweaks/ class=md-nav__link> <span class=md-ellipsis> Windwos 10/11 Tweeks </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_6> <label class=md-nav__link for=__nav_7_6 id=__nav_7_6_label tabindex=0> <span class=md-ellipsis> Guides </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_6_label aria-expanded=false> <label class=md-nav__title for=__nav_7_6> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/guides/declare-locations/ class=md-nav__link> <span class=md-ellipsis> Declare Locations as "Inside Your Local Network" </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/guides/email-from-task-scheduler/ class=md-nav__link> <span class=md-ellipsis> Send Emails From The Windows Task Scheduler </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Raspberry Pi </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Raspberry Pi </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../raspberry-pi/snippets/ class=md-nav__link> <span class=md-ellipsis> Snippets </span> </a> </li> <li class=md-nav__item> <a href=../../../../raspberry-pi/docker-raspberrypi/ class=md-nav__link> <span class=md-ellipsis> Docker on Raspberry Pi </span> </a> </li> <li class=md-nav__item> <a href=../../../../raspberry-pi/external-power-button/ class=md-nav__link> <span class=md-ellipsis> External Power Button </span> </a> </li> <li class=md-nav__item> <a href=../../../../raspberry-pi/motion-sensor-display-control/ class=md-nav__link> <span class=md-ellipsis> Motion Sensor Display Control </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_5> <label class=md-nav__link for=__nav_8_5 id=__nav_8_5_label tabindex=0> <span class=md-ellipsis> Guides </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_5_label aria-expanded=false> <label class=md-nav__title for=__nav_8_5> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../raspberry-pi/guides/3g-modem-host/ class=md-nav__link> <span class=md-ellipsis> 3g Modem Host Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_6> <label class=md-nav__link for=__nav_8_6 id=__nav_8_6_label tabindex=0> <span class=md-ellipsis> Projects </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_6_label aria-expanded=false> <label class=md-nav__title for=__nav_8_6> <span class="md-nav__icon md-icon"></span> Projects </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../raspberry-pi/projects/magic-mirror-v2/ class=md-nav__link> <span class=md-ellipsis> Magic Mirror 2.0 </span> </a> </li> <li class=md-nav__item> <a href=../../../../raspberry-pi/projects/magic-mirror/ class=md-nav__link> <span class=md-ellipsis> Magic Mirror </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Android </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Android </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../android/adb-cheat-sheet/ class=md-nav__link> <span class=md-ellipsis> ADB Cheat Sheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../android/apktool/ class=md-nav__link> <span class=md-ellipsis> Apktool </span> </a> </li> <li class=md-nav__item> <a href=../../../../android/applications/ class=md-nav__link> <span class=md-ellipsis> PT Application </span> </a> </li> <li class=md-nav__item> <a href=../../../../android/jadx-decompiler/ class=md-nav__link> <span class=md-ellipsis> JADX Decompiler </span> </a> </li> <li class=md-nav__item> <a href=../../../../android/mobsf/ class=md-nav__link> <span class=md-ellipsis> MobSF </span> </a> </li> <li class=md-nav__item> <a href=../../../../android/ssl-pinning-bypass/ class=md-nav__link> <span class=md-ellipsis> SSL Pinning Bypass </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> <span class=md-ellipsis> Penetration Testing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Penetration Testing </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_1> <label class=md-nav__link for=__nav_10_1 id=__nav_10_1_label tabindex=0> <span class=md-ellipsis> Cheatsheets </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_1_label aria-expanded=false> <label class=md-nav__title for=__nav_10_1> <span class="md-nav__icon md-icon"></span> Cheatsheets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../penetration-testing/cheatsheets/cli-commands-collation/ class=md-nav__link> <span class=md-ellipsis> Cli Commands Collation </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/cheatsheets/gobuster-cheatsheet/ class=md-nav__link> <span class=md-ellipsis> Gobuster CheatSheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/cheatsheets/nmap-cheatsheet/ class=md-nav__link> <span class=md-ellipsis> Nmap CheatSheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/cheatsheets/xss-cheatsheet/ class=md-nav__link> <span class=md-ellipsis> XSS CheatSheet </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_2> <label class=md-nav__link for=__nav_10_2 id=__nav_10_2_label tabindex=0> <span class=md-ellipsis> Kali linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_2_label aria-expanded=false> <label class=md-nav__title for=__nav_10_2> <span class="md-nav__icon md-icon"></span> Kali linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../penetration-testing/kali-linux/bettercap1.6.2/ class=md-nav__link> <span class=md-ellipsis> Bettercap 1.6.2 Installation </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/kali-linux/kali-linux/ class=md-nav__link> <span class=md-ellipsis> Kali Linux </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/kali-linux/links/ class=md-nav__link> <span class=md-ellipsis> Links and Tools </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/kali-linux/metasploit/ class=md-nav__link> <span class=md-ellipsis> Metasploit Framework </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/kali-linux/wifite/ class=md-nav__link> <span class=md-ellipsis> Wifite </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_3> <label class=md-nav__link for=__nav_10_3 id=__nav_10_3_label tabindex=0> <span class=md-ellipsis> Proxmark </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_3_label aria-expanded=false> <label class=md-nav__title for=__nav_10_3> <span class="md-nav__icon md-icon"></span> Proxmark </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../penetration-testing/proxmark/about-proxmark/ class=md-nav__link> <span class=md-ellipsis> About Proxmark3 </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/proxmark/cheatsheet/ class=md-nav__link> <span class=md-ellipsis> Proxmark3 CheatSheet </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/proxmark/mifare-tags/ class=md-nav__link> <span class=md-ellipsis> Mifare Classic 1K ISO14443A </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_4> <label class=md-nav__link for=__nav_10_4 id=__nav_10_4_label tabindex=0> <span class=md-ellipsis> Utilities </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_4_label aria-expanded=false> <label class=md-nav__title for=__nav_10_4> <span class="md-nav__icon md-icon"></span> Utilities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../penetration-testing/utilities/clickjacking/ class=md-nav__link> <span class=md-ellipsis> Clickjacking Test Page </span> </a> </li> <li class=md-nav__item> <a href=../../../../penetration-testing/utilities/idd-generator/ class=md-nav__link> <span class=md-ellipsis> IID Generator & Validator </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> <span class=md-ellipsis> HomeLab </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> HomeLab </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11_1> <label class=md-nav__link for=__nav_11_1 id=__nav_11_1_label tabindex=0> <span class=md-ellipsis> Devices </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_1_label aria-expanded=false> <label class=md-nav__title for=__nav_11_1> <span class="md-nav__icon md-icon"></span> Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../homelab/devices/synology-nas/ class=md-nav__link> <span class=md-ellipsis> Synology NAS </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12> <label class=md-nav__link for=__nav_12 id=__nav_12_label tabindex=0> <span class=md-ellipsis> Utilities </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Utilities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../utilities/htpasswd-generator/ class=md-nav__link> <span class=md-ellipsis> htpasswd Password Generator </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/useful-links-tools/ class=md-nav__link> <span class=md-ellipsis> Useful Links & Tools </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/wifiQrGenerator/ class=md-nav__link> <span class=md-ellipsis> Wifi QR Image Generator </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_4> <label class=md-nav__link for=__nav_12_4 id=__nav_12_4_label tabindex=0> <span class=md-ellipsis> Browsers extensions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_4_label aria-expanded=false> <label class=md-nav__title for=__nav_12_4> <span class="md-nav__icon md-icon"></span> Browsers extensions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../utilities/browsers-extensions/chrome/ class=md-nav__link> <span class=md-ellipsis> Chrome Extensions </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/browsers-extensions/firefox/ class=md-nav__link> <span class=md-ellipsis> Firefox Extensions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_5> <label class=md-nav__link for=__nav_12_5 id=__nav_12_5_label tabindex=0> <span class=md-ellipsis> Markdown cheatsheet </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_5_label aria-expanded=false> <label class=md-nav__title for=__nav_12_5> <span class="md-nav__icon md-icon"></span> Markdown cheatsheet </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/about/ class=md-nav__link> <span class=md-ellipsis> About Markdown </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/admonition/ class=md-nav__link> <span class=md-ellipsis> Admonitions </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/basic-formatting/ class=md-nav__link> <span class=md-ellipsis> Basic Formatting </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/code-blocks/ class=md-nav__link> <span class=md-ellipsis> Code Blocks </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/content-tabs/ class=md-nav__link> <span class=md-ellipsis> Content Tabs </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/diagrams/ class=md-nav__link> <span class=md-ellipsis> Diagrams </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/external-markdown/ class=md-nav__link> <span class=md-ellipsis> Embed External Markdown </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/icons/ class=md-nav__link> <span class=md-ellipsis> Icons & Emojis </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/images/ class=md-nav__link> <span class=md-ellipsis> Images </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/links/ class=md-nav__link> <span class=md-ellipsis> Links </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/tables-lists-quotes/ class=md-nav__link> <span class=md-ellipsis> Tables, Lists and Quotes </span> </a> </li> <li class=md-nav__item> <a href=../../../../utilities/markdown-cheatsheet/awesome-pages/ class=md-nav__link> <span class=md-ellipsis> Awesome Pages Plugin </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../blog/ class=md-nav__link> <span class=md-ellipsis> What's New </span> </a> </li> </ul> </nav></div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="On This Page"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> On This Page </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#proxmox-configuration-for-gpu-passthrough class=md-nav__link> <span class=md-ellipsis> Proxmox Configuration for GPU Passthrough </span> </a> </li> <li class=md-nav__item> <a href=#windows-virtual-machine-gpu-passthrough-configuration class=md-nav__link> <span class=md-ellipsis> Windows Virtual Machine GPU Passthrough Configuration </span> </a> </li> <li class=md-nav__item> <a href=#linux-virtual-machine-gpu-passthrough-configuration class=md-nav__link> <span class=md-ellipsis> Linux Virtual Machine GPU Passthrough Configuration </span> </a> </li> <li class=md-nav__item> <a href=#debug class=md-nav__link> <span class=md-ellipsis> Debug </span> </a> </li> </ul> </nav></div> <div class=ads-sidebar> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5886334466795247" crossorigin=anonymous></script> <ins class=adsbygoogle style="display: inline-block; width: 230px; height: 230px" data-ad-client=ca-pub-5886334466795247 data-ad-slot=1827451329></ins> <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script> </div> <div class=donation> <h3>Support us</h3> <form method=get type=github-sponsers target=_blank action=https://github.com/sponsors/fire1ce> <button class=donate-button-github-sponsers type=submit>donate with github-sponsers</button> </form> <form method=get type=patreon target=_blank action=https://www.patreon.com/fire1ce> <button class=donate-button-patreon type=submit>donate with patreon</button> </form> <form method=post type=submit target=_blank action="https://www.paypal.com/donate/?hosted_button_id=Y5NSXQQ6VPSK6&amp;Z3JncnB0"> <button class=donate-button-paypal type=submit>donate with paypal</button> </form> <form method=get type=buymeacoffee target=_blank action=https://www.buymeacoffee.com/fire1ce> <button class=donate-button-buymeacoffee type=submit>donate with buymeacoffee</button> </form> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a href=../../../../tags/#proxmox class=md-tag> proxmox </a> <a href=../../../../tags/#gpu class=md-tag> gpu </a> <a href=../../../../tags/#passthrough class=md-tag> passthrough </a> </nav> <div class=md-source-file> <small> Authors: <span class="git-page-authors git-authors"><a href=mailto:stas@3os.org>fire1ce</a></span> | </small> <small> Created: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2021-08-27T19:01:57+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2021-08-27</span> | Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-02-26T12:38:28+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-02-26</span> </small> </div> <style>
  .git-revision-date-localized-plugin {
    color: var(--md-typeset-a-color);
  }
</style> <a href=https://github.com/fire1ce/3os.org/edit/main/docs/infrastructure/proxmox/gpu-passthrough/gpu-passthrough-to-vm.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/fire1ce/3os.org/raw/main/docs/infrastructure/proxmox/gpu-passthrough/gpu-passthrough-to-vm.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1 id=proxmox-gpu-passthrough-to-vm>Proxmox GPU Passthrough to VM<a class=headerlink href=#proxmox-gpu-passthrough-to-vm title="Permanent link">&para;</a></h1> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>GPU passthrough is a technology that allows the Linux kernel to present the internal PCI GPU directly to the virtual machine. The device behaves as if it were powered directly by the virtual machine, and the virtual machine detects the PCI device as if it were physically connected. We will cover how to enable GPU passthrough to a virtual machine in Proxmox VE.</p> <div class="admonition warning"> <p><strong>Your mileage may vary depending on your hardware.</strong></p> </div> <h2 id=proxmox-configuration-for-gpu-passthrough>Proxmox Configuration for GPU Passthrough<a class=headerlink href=#proxmox-configuration-for-gpu-passthrough title="Permanent link">&para;</a></h2> <p>The following examples uses <code>SSH</code> connection to the Proxmox server. The editor is <code>nano</code> but feel free to use any other editor. We will be editing the <code>grub</code> configuration file.</p> <p>Find the PCI address of the GPU Device. The following command will show the PCI address of the GPU devices in Proxmox server:</p> <div class=highlight><pre><span></span><code>lspci<span class=w> </span>-nnv<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>VGA
</code></pre></div> <p>Find the GPU you want to passthrough in result ts should be similar to this:</p> <div class=highlight><pre><span></span><code><span class=m>01</span>:00.0<span class=w> </span>VGA<span class=w> </span>compatible<span class=w> </span>controller<span class=w> </span><span class=o>[</span><span class=m>0300</span><span class=o>]</span>:<span class=w> </span>NVIDIA<span class=w> </span>Corporation<span class=w> </span>TU104<span class=w> </span><span class=o>[</span>GeForce<span class=w> </span>RTX<span class=w> </span><span class=m>2080</span><span class=w> </span>SUPER<span class=o>]</span><span class=w> </span><span class=o>[</span>10de:1e81<span class=o>]</span><span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span><span class=w> </span><span class=o>(</span>prog-if<span class=w> </span><span class=m>00</span><span class=w> </span><span class=o>[</span>VGA<span class=w> </span>controller<span class=o>])</span>
</code></pre></div> <p>What we are looking is the PCI address of the GPU device. In this case it's <code>01:00.0</code>.<br> <code>01:00.0</code> is only a part of of a group of PCI devices on the GPU.<br> We can list all the devices in the group <code>01:00</code> by using the following command:</p> <div class=highlight><pre><span></span><code>lspci<span class=w> </span>-s<span class=w> </span><span class=m>01</span>:00
</code></pre></div> <p>The usual output will include VGA Device and Audio Device. In my case, we have a USB Controller and a Serial bus controller:</p> <div class=highlight><pre><span></span><code><span class=m>01</span>:00.0<span class=w> </span>VGA<span class=w> </span>compatible<span class=w> </span>controller:<span class=w> </span>NVIDIA<span class=w> </span>Corporation<span class=w> </span>TU104<span class=w> </span><span class=o>[</span>GeForce<span class=w> </span>RTX<span class=w> </span><span class=m>2080</span><span class=w> </span>SUPER<span class=o>]</span><span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span>
<span class=m>01</span>:00.1<span class=w> </span>Audio<span class=w> </span>device:<span class=w> </span>NVIDIA<span class=w> </span>Corporation<span class=w> </span>TU104<span class=w> </span>HD<span class=w> </span>Audio<span class=w> </span>Controller<span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span>
<span class=m>01</span>:00.2<span class=w> </span>USB<span class=w> </span>controller:<span class=w> </span>NVIDIA<span class=w> </span>Corporation<span class=w> </span>TU104<span class=w> </span>USB<span class=w> </span><span class=m>3</span>.1<span class=w> </span>Host<span class=w> </span>Controller<span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span>
<span class=m>01</span>:00.3<span class=w> </span>Serial<span class=w> </span>bus<span class=w> </span>controller<span class=w> </span><span class=o>[</span>0c80<span class=o>]</span>:<span class=w> </span>NVIDIA<span class=w> </span>Corporation<span class=w> </span>TU104<span class=w> </span>USB<span class=w> </span>Type-C<span class=w> </span>UCSI<span class=w> </span>Controller<span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span>
</code></pre></div> <p>Now we need to get the id's of those devices. We can do this by using the following command:</p> <div class=highlight><pre><span></span><code>lspci<span class=w> </span>-s<span class=w> </span><span class=m>01</span>:00<span class=w> </span>-n
</code></pre></div> <p>The output should look similar to this:</p> <div class=highlight><pre><span></span><code><span class=m>01</span>:00.0<span class=w> </span><span class=m>0300</span>:<span class=w> </span>10de:1e81<span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span>
<span class=m>01</span>:00.1<span class=w> </span><span class=m>0403</span>:<span class=w> </span>10de:10f8<span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span>
<span class=m>01</span>:00.2<span class=w> </span>0c03:<span class=w> </span>10de:1ad8<span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span>
<span class=m>01</span>:00.3<span class=w> </span>0c80:<span class=w> </span>10de:1ad9<span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span>
</code></pre></div> <p>What we are looking are the pairs, we will use those id to split the PCI Group to separate devices.</p> <div class=highlight><pre><span></span><code>10de:1e81,10de:10f8,10de:1ad8,10de:1ad9
</code></pre></div> <p>Now it's time to edit the <code>grub</code> configuration file.</p> <div class=highlight><pre><span></span><code>nano<span class=w> </span>/etc/default/grub
</code></pre></div> <p>Find the line that starts with <code>GRUB_CMDLINE_LINUX_DEFAULT</code> by default they should look like this:</p> <div class=highlight><pre><span></span><code><span class=nv>GRUB_CMDLINE_LINUX_DEFAULT</span><span class=o>=</span><span class=s2>&quot;quiet&quot;</span>
</code></pre></div> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>For Intel CPU</label><label for=__tabbed_1_2>For AMD CPU</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>intel_iommu</span><span class=o>=</span>on
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nv>amd_iommu</span><span class=o>=</span>on
</code></pre></div> </div> </div> </div> <p>Then change it to look like this (Intel CPU example) and replace <code>vfio-pci.ids=</code> with the ids for the GPU you want to passthrough:</p> <div class=highlight><pre><span></span><code><span class=nv>GRUB_CMDLINE_LINUX_DEFAULT</span><span class=o>=</span><span class=s2>&quot;quiet intel_iommu=on pcie_acs_override=downstream,multifunction video=efifb:off video=vesa:off vfio-pci.ids=10de:1e81,10de:10f8,10de:1ad8,10de:1ad9 vfio_iommu_type1.allow_unsafe_interrupts=1 kvm.ignore_msrs=1 modprobe.blacklist=radeon,nouveau,nvidia,nvidiafb,nvidia-gpu&quot;</span>
</code></pre></div> <p>Save the config changed and then update GRUB.</p> <div class=highlight><pre><span></span><code>update-grub
</code></pre></div> <p>Next we need to add <code>vfio</code> modules to allow PCI passthrough.</p> <p>Edit the <code>/etc/modules</code> file.</p> <div class=highlight><pre><span></span><code>nano<span class=w> </span>/etc/modules
</code></pre></div> <p>Add the following line to the end of the file:</p> <div class=highlight><pre><span></span><code><span class=c1># Modules required for PCI passthrough</span>
vfio
vfio_iommu_type1
vfio_pci
vfio_virqfd
</code></pre></div> <p>Save and exit the editor.</p> <p>Update configuration changes made in your /etc filesystem</p> <div class=highlight><pre><span></span><code>update-initramfs<span class=w> </span>-u<span class=w> </span>-k<span class=w> </span>all
</code></pre></div> <p><strong>Reboot Proxmox to apply the changes</strong></p> <p>Verify that IOMMU is enabled</p> <div class=highlight><pre><span></span><code>dmesg<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-e<span class=w> </span>DMAR<span class=w> </span>-e<span class=w> </span>IOMMU
</code></pre></div> <p>There should be a line that looks like <code>DMAR: IOMMU enabled</code>. If there is no output, something is wrong.</p> <div class=highlight><pre><span></span><code><span class=o>[</span><span class=m>0</span>.000000<span class=o>]</span><span class=w> </span>Warning:<span class=w> </span>PCIe<span class=w> </span>ACS<span class=w> </span>overrides<span class=w> </span>enabled<span class=p>;</span><span class=w> </span>This<span class=w> </span>may<span class=w> </span>allow<span class=w> </span>non-IOMMU<span class=w> </span>protected<span class=w> </span>peer-to-peer<span class=w> </span>DMA
<span class=hll><span class=o>[</span><span class=m>0</span>.067203<span class=o>]</span><span class=w> </span>DMAR:<span class=w> </span>IOMMU<span class=w> </span>enabled
</span><span class=o>[</span><span class=m>2</span>.573920<span class=o>]</span><span class=w> </span>pci<span class=w> </span><span class=m>0000</span>:00:00.2:<span class=w> </span>AMD-Vi:<span class=w> </span>IOMMU<span class=w> </span>performance<span class=w> </span>counters<span class=w> </span>supported
<span class=o>[</span><span class=m>2</span>.580393<span class=o>]</span><span class=w> </span>pci<span class=w> </span><span class=m>0000</span>:00:00.2:<span class=w> </span>AMD-Vi:<span class=w> </span>Found<span class=w> </span>IOMMU<span class=w> </span>cap<span class=w> </span>0x40
<span class=o>[</span><span class=m>2</span>.581776<span class=o>]</span><span class=w> </span>perf/amd_iommu:<span class=w> </span>Detected<span class=w> </span>AMD<span class=w> </span>IOMMU<span class=w> </span><span class=c1>#0 (2 banks, 4 counters/bank).</span>
</code></pre></div> <p>Check that the GPU is in a separate IOMMU Group by using the following command:</p> <div class=highlight><pre><span></span><code><span class=ch>#!/bin/bash</span>
<span class=nb>shopt</span><span class=w> </span>-s<span class=w> </span>nullglob
<span class=k>for</span><span class=w> </span>g<span class=w> </span><span class=k>in</span><span class=w> </span><span class=k>$(</span>find<span class=w> </span>/sys/kernel/iommu_groups/*<span class=w> </span>-maxdepth<span class=w> </span><span class=m>0</span><span class=w> </span>-type<span class=w> </span>d<span class=w> </span><span class=p>|</span><span class=w> </span>sort<span class=w> </span>-V<span class=k>)</span><span class=p>;</span><span class=w> </span><span class=k>do</span>
<span class=w>    </span><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;IOMMU Group </span><span class=si>${</span><span class=nv>g</span><span class=p>##*/</span><span class=si>}</span><span class=s2>:&quot;</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span>d<span class=w> </span><span class=k>in</span><span class=w> </span><span class=nv>$g</span>/devices/*<span class=p>;</span><span class=w> </span><span class=k>do</span>
<span class=w>        </span><span class=nb>echo</span><span class=w> </span>-e<span class=w> </span><span class=s2>&quot;\t</span><span class=k>$(</span>lspci<span class=w> </span>-nns<span class=w> </span><span class=si>${</span><span class=nv>d</span><span class=p>##*/</span><span class=si>}</span><span class=k>)</span><span class=s2>&quot;</span>
<span class=w>    </span><span class=k>done</span><span class=p>;</span>
<span class=k>done</span><span class=p>;</span>
</code></pre></div> <p>Now your Proxmox host should be ready to GPU passthrough!</p> <h2 id=windows-virtual-machine-gpu-passthrough-configuration>Windows Virtual Machine GPU Passthrough Configuration<a class=headerlink href=#windows-virtual-machine-gpu-passthrough-configuration title="Permanent link">&para;</a></h2> <p>For better results its recommend to use this <a href=../../windows-vm-configuration/ title="Windows VM Configuration">Windwos 10/11 Virutal Machine configuration for proxmox</a>.</p> <div class="admonition failure"> <p class=admonition-title>Limitations &amp; Workarounds</p> <ul> <li> <p>In order for the GPU to to function properly in the VM, you must disable Proxmox's Virutal Display - Set it <code>none</code>.</p> </li> <li> <p>You will lose the ability to conect to the VM via Proxmox's Console.</p> </li> <li> <p>Display must be conected to the physical output of the GPU for the Windows Host to initialize the GPU properly.</p> </li> <li> <p><strong>You can use a <a href=https://amzn.to/391shDL target=_blank title="HDMI Dummy Plug Amazon">HDMI Dummy Plug</a> as a workaround - It will present itself as a HDMI Display to the Windows Host.</strong></p> </li> <li> <p>Make sure you have alternative way to connect to the VM for example via Remote Desktop (RDP).</p> </li> </ul> </div> <p>Find the PCI address of the GPU.</p> <div class=highlight><pre><span></span><code>lspci<span class=w> </span>-nnv<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>VGA
</code></pre></div> <p>This should result in output similar to this:</p> <div class=highlight><pre><span></span><code><span class=m>01</span>:00.0<span class=w> </span>VGA<span class=w> </span>compatible<span class=w> </span>controller<span class=w> </span><span class=o>[</span><span class=m>0300</span><span class=o>]</span>:<span class=w> </span>NVIDIA<span class=w> </span>Corporation<span class=w> </span>TU104<span class=w> </span><span class=o>[</span>GeForce<span class=w> </span>RTX<span class=w> </span><span class=m>2080</span><span class=w> </span>SUPER<span class=o>]</span><span class=w> </span><span class=o>[</span>10de:1e81<span class=o>]</span><span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span><span class=w> </span><span class=o>(</span>prog-if<span class=w> </span><span class=m>00</span><span class=w> </span><span class=o>[</span>VGA<span class=w> </span>controller<span class=o>])</span>
</code></pre></div> <p>If you have multiple VGA, look for the one that has the <code>Intel</code> in the name.<br> Here, the PCI address of the GPU is <code>01:00.0</code>.</p> <p><img alt="Proxmox lspci vga" src=../../../../assets/images/8886bc4a-be38-11ec-ba3b-d3e0526955c4.jpg title="Proxmox lspci vga"></p> <p>For best performance the VM should be configured the <code>Machine</code> type to <mark>q35</mark>.<br> This will allow the VM to utilize PCI-Express passthrough.</p> <p>Open the web gui and navigate to the <code>Hardware</code> tab of the VM you want to add a vGPU.<br> Click <code>Add</code> above the device list and then choose <code>PCI Device</code></p> <p><img alt="Windows VM Add PCI Device" src=../../../../assets/images/893555e4-b914-11ec-8e85-df9da2014d5a.jpg title="Windows VM Add PCI Device"></p> <p>Open the <code>Device</code> dropdown and select the GPU, which you can find using it’s PCI address. This list uses a different format for the PCI addresses id, <code>01:00.0</code> is listed as <code>0000:01:00.0</code>.</p> <p><img alt="Add GPU to VM" src=../../../../assets/images/a7d93848-be38-11ec-9607-2ba8ccd0b5ab.jpg title="Add GPU to VM"></p> <p>Select <code>All Functions</code>, <code>ROM-Bar</code>, <code>Primary GPU</code>, <code>PCI-Express</code> and then click <code>Add</code>.</p> <p><img alt="Windows VM GPU PCI Settings" src=../../../../assets/images/d48456fc-be38-11ec-a8da-c747b71c446f.jpg title="Windows VM GPU PCI Settings"></p> <p>The Windows Virtual Machine Proxmox Setting should look like this:</p> <p><img alt="Windows VM GPU Hardware Settings" src=../../../../assets/images/157b55e8-be3e-11ec-a2c2-97d25fe194df.jpg title="Windows VM GPU Hardware Settings"></p> <p>Power on the Windows Virtual Machine.</p> <p>Connect to the VM via Remote Desktop (RDP) or any other remote access protocol you prefer. Install the latest version of GPU Driver for your GPU.</p> <p>If all when well you should see the following output in <code>Device Manager</code> and <a href=https://www.techpowerup.com/gpuz/ target=_blank title="GPU-Z Homepage">GPU-Z</a>:</p> <p><img alt="GPU-Z and Device Manager GPU" src=../../../../assets/images/13d3484a-be39-11ec-9c17-d311291bdb58.jpg title="GPU-Z and Device Manager GPU"></p> <p>That's it!</p> <h2 id=linux-virtual-machine-gpu-passthrough-configuration>Linux Virtual Machine GPU Passthrough Configuration<a class=headerlink href=#linux-virtual-machine-gpu-passthrough-configuration title="Permanent link">&para;</a></h2> <p>We will be using Ubuntu Server 20.04 LTS. for this guide.</p> <p>From Proxmox Terminal find the PCI address of the GPU.</p> <div class=highlight><pre><span></span><code>lspci<span class=w> </span>-nnv<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>VGA
</code></pre></div> <p>This should result in output similar to this:</p> <div class=highlight><pre><span></span><code><span class=m>01</span>:00.0<span class=w> </span>VGA<span class=w> </span>compatible<span class=w> </span>controller<span class=w> </span><span class=o>[</span><span class=m>0300</span><span class=o>]</span>:<span class=w> </span>NVIDIA<span class=w> </span>Corporation<span class=w> </span>TU104<span class=w> </span><span class=o>[</span>GeForce<span class=w> </span>RTX<span class=w> </span><span class=m>2080</span><span class=w> </span>SUPER<span class=o>]</span><span class=w> </span><span class=o>[</span>10de:1e81<span class=o>]</span><span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span><span class=w> </span><span class=o>(</span>prog-if<span class=w> </span><span class=m>00</span><span class=w> </span><span class=o>[</span>VGA<span class=w> </span>controller<span class=o>])</span>
</code></pre></div> <p>If you have multiple VGA, look for the one that has the <code>Intel</code> in the name. Here, the PCI address of the GPU is <code>01:00.0</code>.</p> <p><img alt=lspci-nnv-vga src=../../../../assets/images/8886bc4a-be38-11ec-ba3b-d3e0526955c4.jpg title="Proxmox lspci vga"></p> <p>For best performance the VM should be configured the <code>Machine</code> type to <mark>q35</mark>.<br> This will allow the VM to utilize PCI-Express passthrough.</p> <p><img alt="Ubuntu VM Add PCI Device" src=../../../../assets/images/3d942380-be3d-11ec-99fc-0778f9dc8acd.jpg title="Ubuntu VM Add PCI Device"></p> <p>Open the <code>Device</code> dropdown and select the GPU, which you can find using it’s PCI address. This list uses a different format for the PCI addresses id, <code>01:00.0</code> is listed as <code>0000:01:00.0</code>.</p> <p><img alt="Add GPU to VM" src=../../../../assets/images/a7d93848-be38-11ec-9607-2ba8ccd0b5ab.jpg title="Add GPU to VM"></p> <p>Select <code>All Functions</code>, <code>ROM-Bar</code>, <code>PCI-Epress</code> and then click <code>Add</code>.</p> <p><img alt="Ubuntu VM GPU PCI Settings" src=../../../../assets/images/4dc679d8-be3d-11ec-8ef7-03c9f9ba3344.jpg title="Ubuntu VM GPU PCI Settings"></p> <p>The Ubuntu Virtual Machine Proxmox Setting should look like this:</p> <p><img alt="Ubuntu VM GPU Hardware Settings" src=../../../../assets/images/6953aefa-be3d-11ec-bfe8-7f9219dc10e2.jpg title="Ubuntu VM GPU Hardware Settings"></p> <p>Boot the VM. To test the GPU passthrough was successful, you can use the following command in the VM:</p> <div class=highlight><pre><span></span><code><span class=w> </span>sudo<span class=w> </span>lspci<span class=w> </span>-nnv<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>VGA
</code></pre></div> <p>The output should incliude the GPU:</p> <div class=highlight><pre><span></span><code><span class=m>01</span>:00.0<span class=w> </span>VGA<span class=w> </span>compatible<span class=w> </span>controller<span class=w> </span><span class=o>[</span><span class=m>0300</span><span class=o>]</span>:<span class=w> </span>NVIDIA<span class=w> </span>Corporation<span class=w> </span>TU104<span class=w> </span><span class=o>[</span>GeForce<span class=w> </span>RTX<span class=w> </span><span class=m>2080</span><span class=w> </span>SUPER<span class=o>]</span><span class=w> </span><span class=o>[</span>10de:1e81<span class=o>]</span><span class=w> </span><span class=o>(</span>rev<span class=w> </span>a1<span class=o>)</span><span class=w> </span><span class=o>(</span>prog-if<span class=w> </span><span class=m>00</span><span class=w> </span><span class=o>[</span>VGA<span class=w> </span>controller<span class=o>])</span>
</code></pre></div> <p>Now we need to install the GPU Driver. I'll be covering the installation of Nvidia Drivers in the next example.</p> <p>Search for the latest Nvidia Driver for your GPU.</p> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>apt<span class=w> </span>search<span class=w> </span>nvidia-driver
</code></pre></div> <p>In the next step we will install the Nvidia Driver v535.</p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><strong>--no-install-recommends</strong> is important for Headless Server. <code>nvidia-driver-535</code> will install xorg (GUI) <code>--no-install-recommends</code> flag will prevent the GUI from being installed.</p> </div> <div class=highlight><pre><span></span><code>sudo<span class=w> </span>apt<span class=w> </span>install<span class=w> </span>--no-install-recommends<span class=w> </span>-y<span class=w> </span>build-essential<span class=w> </span>nvidia-driver-535<span class=w> </span>nvidia-headless-535<span class=w> </span>nvidia-utils-535<span class=w> </span>nvidia-cuda-toolkit
</code></pre></div> <p>This will take a while to install. After the installation is complete, you should reboot the VM.</p> <p>Now let's test the Driver initalization. Run the following command in the VM:</p> <div class=highlight><pre><span></span><code>nvidia-smi<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>nvidia-smi<span class=w> </span>-L
</code></pre></div> <p>If all went well you should see the following output:</p> <p><img alt="Ubuntu VM GPU Nvidia-smi" src=../../../../assets/images/a6de4412-be40-11ec-85e6-338ef50c9599.jpg title="Ubuntu VM GPU Nvidia-smi"></p> <p>That's it! You should now be able to use the GPU for hardware acceleration inside the VM.</p> <h2 id=debug>Debug<a class=headerlink href=#debug title="Permanent link">&para;</a></h2> <p>Dbug Messages - Shows Hardware initialization and errors</p> <div class=highlight><pre><span></span><code>dmesg<span class=w> </span>-w
</code></pre></div> <p>Display PCI devices information</p> <div class=highlight><pre><span></span><code>lspci
</code></pre></div> <p>Display Driver in use for PCI devices</p> <div class=highlight><pre><span></span><code>lspci<span class=w> </span>-k
</code></pre></div> <p>Display IOMMU Groups the PCI devices are assigned to</p> <div class=highlight><pre><span></span><code><span class=ch>#!/bin/bash</span>
<span class=nb>shopt</span><span class=w> </span>-s<span class=w> </span>nullglob
<span class=k>for</span><span class=w> </span>g<span class=w> </span><span class=k>in</span><span class=w> </span><span class=k>$(</span>find<span class=w> </span>/sys/kernel/iommu_groups/*<span class=w> </span>-maxdepth<span class=w> </span><span class=m>0</span><span class=w> </span>-type<span class=w> </span>d<span class=w> </span><span class=p>|</span><span class=w> </span>sort<span class=w> </span>-V<span class=k>)</span><span class=p>;</span><span class=w> </span><span class=k>do</span>
<span class=w>    </span><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;IOMMU Group </span><span class=si>${</span><span class=nv>g</span><span class=p>##*/</span><span class=si>}</span><span class=s2>:&quot;</span>
<span class=w>    </span><span class=k>for</span><span class=w> </span>d<span class=w> </span><span class=k>in</span><span class=w> </span><span class=nv>$g</span>/devices/*<span class=p>;</span><span class=w> </span><span class=k>do</span>
<span class=w>        </span><span class=nb>echo</span><span class=w> </span>-e<span class=w> </span><span class=s2>&quot;\t</span><span class=k>$(</span>lspci<span class=w> </span>-nns<span class=w> </span><span class=si>${</span><span class=nv>d</span><span class=p>##*/</span><span class=si>}</span><span class=k>)</span><span class=s2>&quot;</span>
<span class=w>    </span><span class=k>done</span><span class=p>;</span>
<span class=k>done</span><span class=p>;</span>
</code></pre></div> <p><strong>Reboot Proxmox to apply the changes</strong></p> <div id=amzn-assoc-ad-ae3dadac-83da-43ad-a093-1bb8224c84fe></div> <script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&adInstanceId=ae3dadac-83da-43ad-a093-1bb8224c84fe"></script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5886334466795247" crossorigin=anonymous></script> <ins class=adsbygoogle style="display: block" data-ad-client=ca-pub-5886334466795247 data-ad-slot=6176317884 data-ad-format=auto data-full-width-responsive=true></ins> <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script> <h2 id=__comments>Comments</h2> <script src=https://giscus.app/client.js data-repo=fire1ce/3os.org data-repo-id="MDEwOlJlcG9zaXRvcnk0MDA2MDcxODk=" data-category=General data-category-id=DIC_kwDOF-DH1c4CBNDl data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=1 data-input-position=bottom data-theme=light data-lang=en crossorigin=anonymous async></script> <script>
  var palette = __md_get('__palette');
  if (palette && typeof palette.color === 'object')
    if (palette.color.scheme === 'slate') {
      var giscus = document.querySelector('script[src*=giscus]');
      giscus.setAttribute('data-theme', 'dark');
    }

  /* Register event handlers after documented loaded */
  document.addEventListener('DOMContentLoaded', function () {
    var ref = document.querySelector('[data-md-component=palette]');
    ref.addEventListener('change', function () {
      var palette = __md_get('__palette');
      if (palette && typeof palette.color === 'object') {
        var theme = palette.color.scheme === 'slate' ? 'dark' : 'light';

        /* Instruct Giscus to change theme */
        var frame = document.querySelector('.giscus-frame');
        frame.contentWindow.postMessage({giscus: {setConfig: {theme}}}, 'https://giscus.app');
      }
    });
  });
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight>Copyright &copy; 3os.org 2022</div> <a href=/sitemap.xml title="Site Map"> Site Map </a> | <a href=/information/privacy-policy/ title="Privacy Policy">Privacy Policy </a> | <a href=/information/cookies-policy title="Cookies Policy">Cookies Policy </a> | <a href=/information/affiliateDisclosure title="Affiliate Disclosure">Affiliate Disclosure </a> | <a href=/information/portfolio title=Portfolio>Portfolio </a> | <a href=/information/license title=License>License </a> | <a href=/information/endorsement title=Endorsements>Endorsements </a> </div> <div class=md-social> <a href=https://github.com/fire1ce target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> <a href=https://www.linkedin.com/in/stas-yakobov target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://twitter.com/fire1ce target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://www.reddit.com/user/fire1ce/ target=_blank rel=noopener title=www.reddit.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M0 256C0 114.6 114.6 0 256 0s256 114.6 256 256-114.6 256-256 256H37.1c-13.7 0-20.5-16.5-10.9-26.2L75 437C28.7 390.7 0 326.7 0 256zm349.6-102.4c23.6 0 42.7-19.1 42.7-42.7s-19.1-42.7-42.7-42.7c-20.6 0-37.8 14.6-41.8 34-34.5 3.7-61.4 33-61.4 68.4v.2c-37.5 1.6-71.8 12.3-99 29.1-10.1-7.8-22.8-12.5-36.5-12.5-33 0-59.8 26.8-59.8 59.8 0 24 14.1 44.6 34.4 54.1 2 69.4 77.6 125.2 170.6 125.2s168.7-55.9 170.6-125.3c20.2-9.6 34.1-30.2 34.1-54 0-33-26.8-59.8-59.8-59.8-13.7 0-26.3 4.6-36.4 12.4-27.4-17-62.1-27.7-100-29.1v-.2c0-25.4 18.9-46.5 43.4-49.9 4.4 18.8 21.3 32.8 41.5 32.8zm-172.5 93.3c16.7 0 29.5 17.6 28.5 39.3s-13.5 29.6-30.3 29.6-31.4-8.8-30.4-30.5S160.3 247 177 247zm190.1 38.3c1 21.7-13.7 30.5-30.4 30.5s-29.3-7.9-30.3-29.6c-1-21.7 11.8-39.3 28.5-39.3s31.2 16.6 32.1 38.3zm-48.1 56.7c-10.3 24.6-34.6 41.9-63 41.9s-52.7-17.3-63-41.9c-1.2-2.9.8-6.2 3.9-6.5 18.4-1.9 38.3-2.9 59.1-2.9s40.7 1 59.1 2.9c3.1.3 5.1 3.6 3.9 6.5z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "../../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "navigation.tracking", "navigation.sections", "navigation.instant", "navigation.instant.progress", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.edit", "content.action.view"], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../assets/javascripts/bundle.8fd75fb4.min.js></script> <script src=../../../../js/timeago.min.js></script> <script src=../../../../js/timeago_mkdocs_material.js></script> </body> </html>